@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Sora:wght@300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* IMSAM Brand Colors - Light Mode */
    --background: 220 20% 97%;
    --foreground: 220 55% 8%;

    --card: 0 0% 100%;
    --card-foreground: 220 55% 8%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 55% 8%;

    --primary: 159 100% 44%;
    --primary-foreground: 220 55% 8%;

    --secondary: 217 60% 90%;
    --secondary-foreground: 220 55% 20%;

    --muted: 220 20% 94%;
    --muted-foreground: 220 15% 45%;

    --accent: 217 100% 84%;
    --accent-foreground: 220 55% 8%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 20% 88%;
    --input: 220 20% 88%;
    --ring: 159 100% 44%;

    --radius: 1rem;

    /* Brand Tokens */
    --navy: 220 55% 8%;
    --mint: 159 100% 74%;
    --mint-glow: 159 100% 44%;
    --soft-blue: 217 100% 84%;
    --glass: 220 30% 95% / 0.7;
    --glass-border: 220 30% 85% / 0.3;

    /* Gradients */
    --gradient-mint: linear-gradient(135deg, hsl(159 100% 74%), hsl(180 100% 60%));
    --gradient-blue: linear-gradient(135deg, hsl(217 100% 84%), hsl(240 100% 85%));
    --gradient-hero: linear-gradient(180deg, hsl(220 20% 97%), hsl(220 30% 94%));
    --gradient-glass: linear-gradient(135deg, hsl(0 0% 100% / 0.9), hsl(0 0% 100% / 0.4));

    /* Shadows */
    --shadow-sm: 0 2px 8px hsl(220 55% 8% / 0.04);
    --shadow-md: 0 8px 32px hsl(220 55% 8% / 0.08);
    --shadow-lg: 0 16px 64px hsl(220 55% 8% / 0.12);
    --shadow-glow: 0 0 60px hsl(159 100% 44% / 0.3);
    --shadow-mint: 0 8px 40px hsl(159 100% 44% / 0.25);
  }

  .dark {
    /* IMSAM Brand Colors - Dark Mode (Default) */
    --background: 220 55% 6%;
    --foreground: 220 20% 95%;

    --card: 220 45% 10%;
    --card-foreground: 220 20% 95%;

    --popover: 220 45% 10%;
    --popover-foreground: 220 20% 95%;

    --primary: 159 100% 74%;
    --primary-foreground: 220 55% 8%;

    --secondary: 220 40% 15%;
    --secondary-foreground: 220 20% 90%;

    --muted: 220 40% 12%;
    --muted-foreground: 220 15% 55%;

    --accent: 217 100% 84%;
    --accent-foreground: 220 55% 8%;

    --destructive: 0 70% 50%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 40% 15%;
    --input: 220 40% 15%;
    --ring: 159 100% 74%;

    /* Brand Tokens Dark */
    --navy: 220 55% 6%;
    --glass: 220 45% 12% / 0.7;
    --glass-border: 220 30% 30% / 0.3;

    /* Gradients Dark */
    --gradient-hero: linear-gradient(180deg, hsl(220 55% 6%), hsl(220 50% 8%));
    --gradient-glass: linear-gradient(135deg, hsl(220 45% 15% / 0.8), hsl(220 45% 10% / 0.4));

    /* Shadows Dark */
    --shadow-sm: 0 2px 8px hsl(0 0% 0% / 0.2);
    --shadow-md: 0 8px 32px hsl(0 0% 0% / 0.3);
    --shadow-lg: 0 16px 64px hsl(0 0% 0% / 0.4);
    --shadow-glow: 0 0 80px hsl(159 100% 74% / 0.2);
    --shadow-mint: 0 8px 60px hsl(159 100% 74% / 0.15);
    
    /* Conversational Interface Colors */
    --interview-primary: 159 100% 42%;        /* Mint Green #00D9A3 */
    --interview-primary-dark: 159 100% 35%;   /* #00B388 */
    --interview-primary-light: 159 100% 97%;  /* #E6FFF9 */
    
    --interview-secondary: 249 100% 69%;      /* Purple #6C63FF */
    --interview-accent: 339 100% 70%;         /* Pink #FF6B9D */
    
    --interview-success: 158 64% 52%;         /* #10B981 */
    --interview-warning: 38 92% 50%;          /* #F59E0B */
    --interview-error: 4 90% 58%;             /* #EF4444 */
    
    /* Feedback Chip Colors */
    --chip-excellent: 142 71% 45%;            /* Green */
    --chip-good: 45 93% 47%;                  /* Yellow */
    --chip-needs-work: 0 84% 60%;             /* Red */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
    /* Enable smooth font rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    /* Prevent text size adjustment on iOS */
    -webkit-text-size-adjust: 100%;
    /* Support for touch devices */
    touch-action: manipulation;
  }

  /* Typography Scale */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Sora', 'Inter', system-ui, sans-serif;
    font-weight: 600;
    line-height: 1.2;
    letter-spacing: -0.02em;
  }

  h1 {
    @apply text-4xl md:text-5xl lg:text-6xl;
    font-weight: 700;
  }

  h2 {
    @apply text-3xl md:text-4xl lg:text-5xl;
    font-weight: 700;
  }

  h3 {
    @apply text-2xl md:text-3xl lg:text-4xl;
  }

  h4 {
    @apply text-xl md:text-2xl lg:text-3xl;
  }

  h5 {
    @apply text-lg md:text-xl lg:text-2xl;
  }

  h6 {
    @apply text-base md:text-lg lg:text-xl;
  }

  /* Body text */
  p {
    @apply text-base leading-relaxed;
  }

  /* Link styles */
  a {
    @apply transition-colors duration-200;
  }

  /* Focus styles for accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }

  /* Remove focus for mouse users */
  *:focus:not(:focus-visible) {
    outline: none;
  }

  /* Improve button and input rendering */
  button, input, select, textarea {
    font-family: inherit;
  }

  /* Ensure consistent button styling */
  button {
    cursor: pointer;
  }

  button:disabled {
    cursor: not-allowed;
  }
}

@layer components {
  /* Glassmorphism */
  .glass {
    background: var(--gradient-glass);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid hsl(var(--glass-border));
  }

  .glass-card {
    background: hsl(var(--glass));
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border: 1px solid hsl(var(--glass-border));
    box-shadow: var(--shadow-md);
  }

  /* Gradient Text */
  .text-gradient-mint {
    background: linear-gradient(135deg, hsl(var(--mint)) 0%, hsl(180 100% 70%) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-blue {
    background: linear-gradient(135deg, hsl(var(--soft-blue)) 0%, hsl(240 100% 85%) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Glow Effects */
  .glow-mint {
    box-shadow: var(--shadow-mint);
  }

  .glow-text {
    text-shadow: 0 0 40px hsl(var(--mint) / 0.5);
  }

  /* Animated Border */
  .border-gradient {
    position: relative;
    background: hsl(var(--card));
    border-radius: var(--radius);
  }

  .border-gradient::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: calc(var(--radius) + 2px);
    background: linear-gradient(135deg, hsl(var(--mint)), hsl(var(--soft-blue)), hsl(var(--mint)));
    background-size: 300% 300%;
    animation: gradient-shift 8s ease infinite;
    z-index: -1;
  }

  /* Section Divider */
  .section-divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, hsl(var(--border)), transparent);
  }

  /* Hover Card Effect */
  .hover-lift {
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .hover-lift:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-lg);
  }

  /* Pulse Ring Animation */
  .pulse-ring {
    position: relative;
  }

  .pulse-ring::after {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: 50%;
    border: 2px solid hsl(var(--mint));
    animation: pulse-ring 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Voice Wave Animation */
  .voice-wave {
    display: flex;
    align-items: center;
    gap: 3px;
    height: 24px;
  }

  .voice-wave span {
    width: 3px;
    height: 100%;
    background: hsl(var(--mint));
    border-radius: 3px;
    animation: voice-wave 1s ease-in-out infinite;
  }

  .voice-wave span:nth-child(2) { animation-delay: 0.1s; }
  .voice-wave span:nth-child(3) { animation-delay: 0.2s; }
  .voice-wave span:nth-child(4) { animation-delay: 0.3s; }
  .voice-wave span:nth-child(5) { animation-delay: 0.4s; }
}

@layer utilities {
  /* Custom Scrollbar */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
  }

  /* Text utilities */
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  /* Touch-friendly utilities */
  .touch-target {
    @apply min-h-touch min-w-touch;
  }

  .touch-target-lg {
    @apply min-h-touch-lg min-w-touch-lg;
  }

  /* Safe area insets for mobile devices */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right);
  }

  /* Prevent text selection (useful for buttons) */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }

  /* Hardware acceleration for smooth animations */
  .gpu {
    transform: translateZ(0);
    will-change: transform;
  }

  /* Container queries support */
  .container-normal {
    container-type: normal;
  }

  .container-size {
    container-type: size;
  }

  .container-inline-size {
    container-type: inline-size;
  }

  /* Responsive utilities */
  .show-on-mobile {
    @apply block sm:hidden;
  }

  .hide-on-mobile {
    @apply hidden sm:block;
  }

  .show-on-tablet {
    @apply hidden md:block lg:hidden;
  }

  .show-on-desktop {
    @apply hidden lg:block;
  }

  /* Flexbox utilities */
  .flex-center {
    @apply flex items-center justify-center;
  }

  .flex-between {
    @apply flex items-center justify-between;
  }

  .flex-start {
    @apply flex items-center justify-start;
  }

  .flex-end {
    @apply flex items-center justify-end;
  }

  /* Grid utilities */
  .grid-center {
    @apply grid place-items-center;
  }

  /* Aspect ratio utilities */
  .aspect-video {
    aspect-ratio: 16 / 9;
  }

  .aspect-square {
    aspect-ratio: 1 / 1;
  }

  .aspect-portrait {
    aspect-ratio: 3 / 4;
  }

  /* Truncate utilities */
  .truncate-2 {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    overflow: hidden;
  }

  .truncate-3 {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
    overflow: hidden;
  }

  /* Debug utilities */
  .debug-border {
    @apply border-2 border-red-500;
  }

  .debug-border * {
    @apply border border-blue-500;
  }
}

/* Keyframe Animations */
@keyframes gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes pulse-ring {
  0% { transform: scale(1); opacity: 1; }
  100% { transform: scale(1.5); opacity: 0; }
}

@keyframes voice-wave {
  0%, 100% { transform: scaleY(0.3); }
  50% { transform: scaleY(1); }
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes glow-pulse {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

@keyframes typing {
  from { width: 0; }
  to { width: 100%; }
}

/* Custom Animation Classes */
.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

.animate-typing {
  overflow: hidden;
  white-space: nowrap;
  animation: typing 2s steps(40, end);
}

/* Interview-specific animations */
@keyframes breathe {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

@keyframes nod {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-4px) rotate(-2deg); }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes shimmer {
  0% { background-position: -1000px 0; }
  100% { background-position: 1000px 0; }
}

@keyframes chip-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

/* Interview animation classes */
.animate-breathe {
  animation: breathe 4s ease-in-out infinite;
}

.animate-nod {
  animation: nod 1s ease-in-out;
}

.animate-slide-up {
  animation: slide-up 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

.animate-shimmer {
  background: linear-gradient(90deg, transparent, hsl(var(--muted-foreground) / 0.1), transparent);
  background-size: 1000px 100%;
  animation: shimmer 2s infinite;
}

.animate-chip-pulse {
  animation: chip-pulse 2s ease-in-out infinite;
}
